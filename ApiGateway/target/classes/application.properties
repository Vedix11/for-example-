# Set the port for the gateway
server.port=8080

# Give the gateway an application name to register with Eureka
spring.application.name=api-gateway

# Point the gateway to the Eureka server
eureka.client.serviceUrl.defaultZone=http://localhost:8761/eureka/

# Enable the gateway to automatically find services from Eureka
spring.cloud.gateway.discovery.locator.enabled=true

# --- Gateway Routing Rules ---

# Route requests for the user service
# Any request matching /api/users/** or /api/playlists/** will be forwarded
spring.cloud.gateway.routes[0].id=user-service
spring.cloud.gateway.routes[0].uri=lb://user-service
spring.cloud.gateway.routes[0].predicates[0]=Path=/api/users/**, /api/playlists/**

# Route requests for the admin service
# Any request matching /api/songs/** will be forwarded
spring.cloud.gateway.routes[1].id=admin-service
spring.cloud.gateway.routes[1].uri=lb://admin-service
spring.cloud.gateway.routes[1].predicates[0]=Path=/api/songs/**